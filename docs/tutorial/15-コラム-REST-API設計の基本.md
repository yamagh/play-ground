# 15. コラム: REST API設計の基本

REST (Representational State Transfer) は、Web APIを設計するためのアーキテクチャスタイルの一つです。
近年のWeb開発では、フロントエンド（ブラウザで動作するJavaScript）とバックエンド（サーバー）が、REST APIを通じてJSON形式でデータをやり取りする構成が主流となっています。

RESTの原則に従って設計されたAPIは、一般的に「RESTful API」と呼ばれます。

## RESTの基本原則

### 1. リソース (Resource)
RESTの最も中心的な概念は「リソース」です。リソースとは、APIを通じて操作したい「モノ」のことで、URI (Uniform Resource Identifier) によって一意に識別されます。

- `/tasks`: タスクのコレクション（一覧）
- `/tasks/123`: IDが123の単一のタスク
- `/users/456/tasks`: IDが456のユーザーに関連付けられたタスクのコレクション

URIは、リソースを特定するための「名詞」であるべきで、動詞（操作）を含むべきではありません。

- 良い例: `/tasks/123`
- 悪い例: `/getTaskById?id=123`

### 2. HTTPメソッド (Verbs)
リソースに対してどのような操作を行いたいかは、HTTPメソッド（動詞）を使って表現します。

| HTTPメソッド | CRUD操作 | 説明                               |
| :----------- | :------- | :--------------------------------- |
| `GET`        | **Read**   | リソースを取得する。                 |
| `POST`       | **Create** | 新しいリソースを作成する。           |
| `PUT` / `PATCH` | **Update** | 既存のリソースを更新する。           |
| `DELETE`     | **Delete** | リソースを削除する。                 |

例えば、「IDが123のタスクを削除する」という操作は、以下のようになります。

- `DELETE /tasks/123`

このように、「URI（名詞）」と「HTTPメソッド（動詞）」を組み合わせることで、APIが提供する操作を直感的で統一された方法で表現できます。

### 3. ステートレス (Stateless)
サーバーは、クライアントの状態を一切保持しません。各リクエストは、それ自体で完結しており、サーバーがリクエストを処理するために必要なすべての情報を含んでいる必要があります。
これにより、サーバーの実装がシンプルになり、負荷分散装置（ロードバランサー）を使ってサーバーをスケールさせることが容易になります。

### 4. 表現 (Representation)
クライアントとサーバーは、リソースの「表現」をやり取りします。
ある時点でのタスクの状態を、JSONやXMLといった形式で表現して交換します。近年では、JSONが最も一般的に使用されています。

## このプロジェクトでの例

このプロジェクトのAPIは、RESTの原則に従って設計されています。

| HTTPメソッド | URI          | アクション             | 説明                 |
| :----------- | :----------- | :--------------------- | :------------------- |
| `GET`        | `/api/tasks` | `TaskController.list`  | タスクの一覧を取得する。 |
| `GET`        | `/api/tasks/:id` | `TaskController.get`   | 特定のタスクを取得する。 |
| `POST`       | `/api/tasks` | `TaskController.create`| 新しいタスクを作成する。 |
| `PUT`        | `/api/tasks/:id` | `TaskController.update`| 特定のタスクを更新する。 |
| `DELETE`     | `/api/tasks/:id` | `TaskController.delete`| 特定のタスクを削除する。 |

このようにRESTfulな設計に従うことで、APIの仕様が予測しやすくなり、フロントエンドとバックエンドの開発者が円滑に連携できるようになります。
