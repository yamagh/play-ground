# 8. 標準レイアウトの適用

前のステップで作成したページは、見出しとテキストだけのシンプルなものでした。
このステップでは、アプリケーション全体で共通のヘッダーやサイドメニューを持つ「標準レイアウト」を適用し、他のページとデザインを統一する方法を学びます。

このプロジェクトでは、共通レイアウトを実現するためのSvelteコンポーネントが予め用意されています。

- **`LayoutSideMenu.svelte`**: 左側のサイドメニューや上部のヘッダーなど、アプリケーションの骨格となるレイアウトを提供します。
- **`PageContainer.svelte`**: ページのタイトルを表示し、コンテンツを配置するためのコンテナです。

## レイアウトコンポーネントの適用

それでは、`my-page/Page.svelte` を修正して、標準レイアウトを適用しましょう。

**`app/assets/svelte/screens/my-page/Page.svelte`**:
```svelte
<script lang="ts">
  import LayoutSideMenu from "@app/assets/svelte/layouts/LayoutSideMenu.svelte";
  import PageContainer from "@app/assets/svelte/layouts/PageContainer.svelte";
  import type { MenuItem } from "@app/assets/svelte/layouts/MenuItem";

  // サイドメニューに表示する項目を定義
  const menuItems: MenuItem[] = [
    { key: "tasks", href: "/tasks", icon: "bi-list-task", label: "Tasks" },
    { key: "mypage", href: "/mypage", icon: "bi-person", label: "My Page" },
  ];

  // 現在アクティブなメニュー項目を指定
  const activeMenuKey = "mypage";
  // ページタイトルを指定
  const pageTitle = "マイページ";
</script>

<LayoutSideMenu {menuItems} {activeMenuKey}>
  <PageContainer title={pageTitle}>
    <!-- この内側に、このページ固有のコンテンツを記述する -->
    <p>これはSvelteで作成された新しいページです。</p>
  </PageContainer>
</LayoutSideMenu>
```

ファイルを保存してブラウザ `http://localhost:9000/mypage` を確認すると、タスク一覧画面と同じようなサイドメニューとヘッダーが追加され、ページのデザインが統一されたことがわかります。

## propsによるコンポーネントへのデータ受け渡し

Svelteでは、親コンポーネントから子コンポーネントへデータを渡すために **props（プロパティ）** という仕組みを使います。

上記の例では、`LayoutSideMenu` と `PageContainer` コンポーネントに対して、`{menuItems}` や `title={pageTitle}` のような形でデータを渡しています。

- **`<LayoutSideMenu {menuItems} {activeMenuKey}>`**:
  - `menuItems={menuItems}` と `activeMenuKey={activeMenuKey}` のショートハンド（糖衣構文）です。
  - `menuItems` propには、サイドメニューに表示する項目の配列を渡しています。
  - `activeMenuKey` propには、現在表示しているページに対応するメニューの `key` を渡すことで、サイドメニューの該当項目がハイライトされるようになっています。
- **`<PageContainer title={pageTitle}>`**:
  - `title` propに、`"マイページ"` という文字列を渡しています。`PageContainer` はこのpropを受け取り、ページのヘッダー部分にタイトルとして表示します。

### スロット (slot)

`<PageContainer>` と `</PageContainer>` で囲まれた部分は、**スロット (slot)** と呼ばれるSvelteの機能です。
これにより、レイアウトコンポーネントの中に、各ページ固有のコンテンツ（この例では `<p>...</p>`）を埋め込むことができます。

このように、再利用可能なレイアウトコンポーネントと、propsおよびslotの仕組みを活用することで、アプリケーション全体のデザインを効率的に管理し、一貫性を保つことができます。
