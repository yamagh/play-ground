# 2-5. UIを部品化する「コンポーネント」という考え方

ここまでの手順で、`Page.svelte` というSvelteコンポーネントを作成し、`LayoutSideMenu` や `PageContainer` といった既存のコンポーネントを組み合わせて画面を構築しました。

このように、UIを独立した再利用可能な部品（コンポーネント）に分割して開発を進めるのは、Svelteをはじめとするモダンなフロントエンド開発における非常に重要な考え方です。この章では、なぜコンポーネント化が重要なのか、そしてこのプロジェクトでどのようにコンポーネントを整理しているのかを解説します。

## なぜコンポーネント化するのか？

UIをコンポーネントに分割することには、多くのメリットがあります。

- **再利用性の向上**:
  ボタンやモーダルダイアログ、カードといったUI部品を一度コンポーネントとして作っておけば、アプリケーション内の様々な場所で何度も再利用できます。同じようなコードを何度も書く必要がなくなり、開発効率が向上します。

- **保守性の向上**:
  各コンポーネントは、自身の見た目（HTML/CSS）と振る舞い（JavaScript/TypeScript）を内部にカプセル化しています。例えば、ボタンのデザインを変更したい場合、そのボタンコンポーネントのファイルだけを修正すれば、アプリケーション全体で使用されているすべてのボタンに修正が反映されます。関連するコードが1箇所にまとまっているため、修正が容易で、影響範囲も明確になります。

- **可読性の向上**:
  画面全体が1つの巨大なファイルで構成されていると、コードの見通しが悪くなり、理解や修正が困難になります。画面を「ヘッダー」「サイドバー」「記事リスト」「記事アイテム」といった意味のあるコンポーネントの組み合わせとして記述することで、全体の構造が把握しやすくなります。

## このプロジェクトにおけるコンポーネント

このプロジェクトでは、`app/assets/svelte` ディレクトリ内に、役割に応じてコンポーネントを分類しています。

- **`screens/`**:
  特定のURL（ルート）に対応する「画面」そのものを表すコンポーネントを配置します。各ディレクトリの `Page.svelte` がこれにあたります。`screens` のコンポーネントは、`layouts` や `components` を組み合わせて具体的なページを構築します。

- **`layouts/`**:
  アプリケーション全体で共通の骨格となるレイアウト（ヘッダー、フッター、サイドメニューなど）を提供するコンポーネントを配置します。`LayoutSideMenu` や `PageContainer` がこれにあたります。

- **`components/`**:
  特定の画面に依存しない、汎用的なUI部品を配置します。
  - `components/common`: ボタン、カード、アイコンなど、ごく基本的な部品。
  - `components/form`: テキスト入力、セレクトボックス、チェックボックスなど、フォームに関連する部品。
  - `components/layouts`: `common` よりも少し大きな構造を持つレイアウト部品。
  - その他、特定の機能に特化した部品（例: `SearchBoxWithFilters`）。

## コンポーネント化の指針

では、どのような単位でコンポーネントに切り出すべきでしょうか。明確なルールはありませんが、以下のような指針が役立ちます。

- **単一責任の原則**: 1つのコンポーネントは、1つのことだけを行うべきです。例えば、「ユーザーのプロフィール画像と名前を表示する」コンポーネントは良い分割ですが、「ユーザー情報を表示し、編集フォームも提供し、更新APIも呼び出す」コンポーネントは責務が大きすぎるかもしれません。
- **再利用性**: アプリケーション内の複数の場所で同じようなUIやロジックが登場する場合、それはコンポーネント化の良い候補です。
- **複雑さ**: ある部分のコードが非常に長大で複雑になってきたら、それをより小さなコンポーネントに分割できないか検討してみましょう。

---

コンポーネントベースの考え方に慣れることが、効率的でメンテナンスしやすいフロントエンド開発の鍵となります。

第2部では、静的なページを作成する一連の流れを学びました。第3部からは、いよいよデータベースを準備し、動的なデータを扱っていきます。
