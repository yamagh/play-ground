# 2-1. Svelteコンポーネントの作成

ここからは、実際にコードを書きながらアプリケーションを構築していきます。まずは、タスク一覧を表示するための最初のページ（Svelteコンポーネント）を作成しましょう。

## 画面用ディレクトリの作成

このプロジェクトでは、Svelteで作成する「画面」の単位となるコンポーネントは、`app/assets/svelte/screens` ディレクトリ配下に配置するという規約にしています。

まず、新しいタスク一覧画面のために、以下のディレクトリを作成してください。

```
app/assets/svelte/screens/tasks
```

今後、タスク登録画面を作成する場合は `task-edit` のように、機能ごとにディレクトリを分けて管理していきます。

## Page.svelteの作成

次に、作成した `tasks` ディレクトリの中に、`Page.svelte` という名前で新しいファイルを作成します。

**`app/assets/svelte/screens/tasks/Page.svelte`**
```svelte
<script lang="ts">
  // TypeScriptのコードはここに記述します
</script>

<div class="container mt-4">
  <h1>タスク一覧</h1>
  <p>ここにタスクの一覧が表示されます。</p>
</div>

<style>
  /* このコンポーネント専用のCSSはここに記述します */
</style>
```

ファイルを作成したら、上記の内容をコピーして貼り付けてください。
これは、Svelteコンポーネントの基本的な構造です。

- **`<script>` タグ**: コンポーネントのロジック（状態管理、関数など）をTypeScriptで記述します。
- **HTMLテンプレート**: コンポーネントの見た目を定義します。通常のHTMLに加えて、`{}` を使って変数の値を表示したり、`{#if}` や `{#each}` といったSvelte独自の構文で動的な表現が可能です。
- **`<style>` タグ**: このコンポーネントのスコープ内でのみ適用されるCSSを記述します。ここに書いたスタイルは、他のコンポーネントに影響を与えないため、安全にスタイリングができます。

### なぜ `Page.svelte` という名前なのか？

各画面のルート（起点）となるコンポーネントを `Page.svelte` という名前に統一しています。これは、後述するPlay Frameworkのコントローラーから呼び出す際に、`"tasks/Page.svelte"` のようにディレクトリ名で画面を指定できるようにするためです。これにより、どのSvelteコンポーネントがどの画面に対応するのかが分かりやすくなります。

## エントリーポイントについて

多くのSvelteプロジェクトでは、`main.ts` のようなファイルで `new App({ target: document.getElementById('app') })` といったマウント処理を記述する必要があります。

しかし、このプロジェクトでは、Play Frameworkのビューテンプレート **`app/views/screen.scala.html`** がその役割を担っています。コントローラーから渡されたコンポーネント名（例: `"tasks/Page.svelte"`）を元に、このテンプレートが動的にSvelteコンポーネントをマウントするためのJavaScriptコードを生成します。

そのため、私たちは画面ごとにマウント処理を記述する必要がなく、`Page.svelte` ファイルを作成するだけで新しい画面を追加していくことができます。

---

これで、Svelteコンポーネントの「ひな形」が完成しました。しかし、この時点ではまだブラウザで表示することはできません。次の章では、このコンポーネントにスタイルを適用し、その次の章でPlay Frameworkのコントローラーとルーティングを設定して、実際に画面に表示させます。
